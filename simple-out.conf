# file: simple-out.conf
input {
    jdbc {
        # Postgres jdbc connection string to our database, mydb
        jdbc_connection_string => "jdbc:postgresql://localhost:5432/irecyou"

        # The user we wish to execute our statement as
        jdbc_user => "postgres"

        # The path to our downloaded jdbc driver
        jdbc_driver_library => "/Users/lizkong/Documents/HRSF82/Thesis/behavior_service/postgresql-42.1.4.jar"

        # The name of the driver class for Postgresql
        jdbc_driver_class => "org.postgresql.Driver"

        # our query
        statement => "SELECT * FROM contacts WHERE uid > :sql_last_value"
        schedule => "* * * * *"

        # tracking
        use_column_value => true
        tracking_column => "uid"

    }
}
output {
    stdout { codec => json_lines }
    elasticsearch {
        hosts => "http://localhost:9200"
        index => "contacts"
        document_type => "contact"
        document_id => "%{uid}"
        
    }
}